{% extends 'base.html.twig' %}

{% block title %}Inscription - TaskFlow
{% endblock %}

{% block body %}
	<div class="container register-page">
		<div class="row justify-content-center align-items-center auth-container">
			<div class="col-md-7 col-lg-5">
				<div class="card border-0 shadow-lg auth-card">
					<div class="card-body p-5">
						<div class="text-center mb-4">

							<div class="mb-3">
								<i class="fas fa-user-plus text-primary fa-3x"></i>
							</div>
							<h2 class="h3 mb-2">Créez votre compte</h2>

							<p class="text-muted">Rejoignez TaskFlow dès aujourd'hui</p>
						</div>

						{{ form_errors(registrationForm) }}

						{{ form_start(registrationForm, {'attr': {'class': 'form-container'}}) }}

						{# Champ Prénom #}
						<div class="mb-3">
							<label for="{{ registrationForm.firstName.vars.id }}" class="form-label fw-semibold">

								Prénom
							</label>
							<div class="auth-input-group input-group">

								<span class="input-group-text bg-light">
									<i class="fas fa-user text-muted"></i>
								</span>

								{{ form_widget(registrationForm.firstName, {
                                    'attr': {
                                        'class': 'form-control form-control-lg',
              
                          'placeholder': 'Votre prénom',
                                        'autocomplete': 'given-name'
                               
     }
                                }) }}
							</div>
							<div class="form-errors text-danger mt-1">

								{{ form_errors(registrationForm.firstName) }}
							</div>
						</div>


						{# Champ Nom #}
						<div class="mb-3">
							<label for="{{ registrationForm.lastName.vars.id }}" class="form-label fw-semibold">

								Nom
							</label>
							<div class="auth-input-group input-group">
								<span class="input-group-text bg-light">

									<i class="fas fa-user text-muted"></i>
								</span>
								{{ form_widget(registrationForm.lastName, {
   
                                 'attr': {
                                        'class': 'form-control form-control-lg',
                        
                'placeholder': 'Votre nom de famille',
                                        'autocomplete': 'family-name'
                                    }
   
                             }) }}
							</div>
							<div class="form-errors text-danger mt-1">

								{{ form_errors(registrationForm.lastName) }}
							</div>
						</div>

						{# 
																								 Champ Email #}
						<div class="mb-3">
							<label for="{{ registrationForm.email.vars.id }}" class="form-label fw-semibold">
								Adresse email

							</label>
							<div class="auth-input-group input-group">
								<span class="input-group-text bg-light">

									<i class="fas fa-envelope text-muted"></i>
								</span>
								{{ form_widget(registrationForm.email, {
          
                          'attr': {
                                        'class': 'form-control form-control-lg',
                               
         'placeholder': 'votre.email@exemple.com',
                                        'autocomplete': 'email'
                                    }
             
                   }) }}
							</div>
							<div class="form-errors text-danger mt-1">

								{{ form_errors(registrationForm.email) }}
							</div>
						</div>

						{# Champ Mot de passe #}

						<div class="mb-3">
							<label for="{{ registrationForm.plainPassword.first.vars.id }}" class="form-label fw-semibold">
								Mot de passe

							</label>
							<div class="auth-input-group input-group">
								<span class="input-group-text bg-light">

									<i class="fas fa-lock text-muted"></i>
								</span>
								{{ form_widget(registrationForm.plainPassword.first, {
                 
                   'attr': {
                                        'class': 'form-control form-control-lg',
                                      
  'placeholder': 'Votre mot de passe',
                                        'autocomplete': 'new-password'
                                    }
                 
               }) }}
								<button class="btn btn-outline-secondary" type="button" onclick="togglePassword('{{ registrationForm.plainPassword.first.vars.id }}')">
									<i class="fas fa-eye" id="{{ registrationForm.plainPassword.first.vars.id }}_icon"></i>

								</button>
							</div>

							<div class="progress mt-2" style="height: 5px;">
								<div id="password_strength" class="progress-bar" role="progressbar" style="width: 0%"></div>
							</div>
							<div class="form-text" id="password_help">Minimum 6 caractères requis</div>

							<div class="form-errors text-danger mt-1">

								{{ form_errors(registrationForm.plainPassword.first) }}
							</div>
						</div>

						{# Champ Confirmation mot 
																								de passe #}
						<div class="mb-4">
							<label for="{{ registrationForm.plainPassword.second.vars.id }}" class="form-label fw-semibold">
								Confirmer le mot de passe

							</label>
							<div class="auth-input-group input-group">
								<span class="input-group-text bg-light">

									<i class="fas fa-lock text-muted"></i>
								</span>
								{{ form_widget(registrationForm.plainPassword.second, {
       
                             'attr': {
                                        'class': 'form-control form-control-lg',
                            
            'placeholder': 'Confirmez le mot de passe',
                                        'autocomplete': 'new-password'
                                    }
      
                          }) }}
								<button class="btn btn-outline-secondary" type="button" onclick="togglePassword('{{ registrationForm.plainPassword.second.vars.id }}')">

									<i class="fas fa-eye" id="{{ registrationForm.plainPassword.second.vars.id }}_icon"></i>
								</button>
							</div>

							<div class="form-text" id="confirm_help">Les mots de passe doivent être identiques</div>

							<div class="form-errors text-danger mt-1">

								{{ form_errors(registrationForm.plainPassword.second) }}
							</div>
						</div>

						{# Champ Accepter les conditions d'utilisation #}
						{% if registrationForm.agreeTerms is defined %}
							<div class="form-check mb-4">
								{{ form_widget(registrationForm.agreeTerms, {'attr': {'class': 'form-check-input'}}) }}
								<label class="form-check-label" for="{{ registrationForm.agreeTerms.vars.id }}">
									J'accepte les
									<a href="{{ path('legal_terms') }}" target="_blank" class="text-primary text-decoration-none fw-semibold">
										conditions d'utilisation
									</a>
								</label>
							</div>
							{{ form_errors(registrationForm.agreeTerms) }}
						{% endif %}

						{# Bouton d'envoi du formulaire #}
						<button class="btn btn-primary btn-lg w-100 mb-3 auth-btn auth-btn-primary" type="submit">

							<i class="fas fa-user-plus me-2"></i>
							S'inscrire
						</button>
						{{ form_end(registrationForm) }}


						<div class="text-center">
							<hr class="my-4">
							<p class="mb-0 text-muted">
								Déjà un compte 
																																?
								<a href="{{ path('app_login') }}" class="text-primary text-decoration-none fw-semibold">
									Se connecter
								</a>
							</p>

						</div>

						<div class="auth-security-icons text-center mt-4">
							<div class="auth-security-icon">

								<i class="fas fa-shield-alt text-success"></i>
								<p class="small mb-0">Sécurisé</p>
							</div>
							<div class="auth-security-icon">

								<i class="fas fa-user-shield text-primary"></i>
								<p class="small mb-0">RGPD</p>
							</div>

							<div class="auth-security-icon">
								<i class="fas fa-eye-slash text-info"></i>
								<p class="small mb-0">Privé</p>
							</div>

						</div>
						<p class="small text-muted mt-2 text-center">
							Vos données sont protégées selon nos
							<a href="{{ path('legal_privacy') }}" class="text-decoration-none" target="_blank">

								politiques de confidentialité
							</a>
						</p>
					</div>
				</div>


				<div class="text-center mt-3">
					<a href="{{ path('app_home') }}" class="text-muted text-decoration-none">
						<i class="fas fa-arrow-left me-1"></i>
						Retour à l'accueil
					</a>

				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<style>
		body {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			background-attachment: fixed;
		}
	</style>
{% endblock %}