{% extends 'base.html.twig' %}

{% block title %}Inscription - TaskFlow
{% endblock %}

{% block body %}
	<div class="container">
		<div class="row justify-content-center align-items-center min-vh-100">
			<div class="col-md-8 col-lg-6">
				<div class="card border-0 shadow-lg">
					<div
						class="card-body p-5">
						<!-- Header -->
						<div class="text-center mb-4">
							<div class="mb-3">
								<i class="fas fa-user-plus text-primary fa-3x"></i>
							</div>
							<h2 class="h3 mb-2">Bienvenue ! üéâ</h2>
							<p class="text-muted">Cr√©ez votre compte TaskFlow et commencez √† organiser vos projets</p>
						</div>

						<!-- Formulaire d'inscription -->
						{{ form_start(registrationForm, {'attr': {'class': 'needs-validation', 'novalidate': true}}) }}

						<div class="row">
							<div class="col-md-6">
								<div class="mb-3">
									{{ form_label(registrationForm.firstName, null, {'label_attr': {'class': 'form-label'}}) }}
									<div class="input-group">
										<span class="input-group-text bg-light">
											<i class="fas fa-user text-muted"></i>
										</span>
										{{ form_widget(registrationForm.firstName, {'attr': {'class': 'form-control'}}) }}
									</div>
									{{ form_errors(registrationForm.firstName) }}
								</div>
							</div>

							<div class="col-md-6">
								<div class="mb-3">
									{{ form_label(registrationForm.lastName, null, {'label_attr': {'class': 'form-label'}}) }}
									<div class="input-group">
										<span class="input-group-text bg-light">
											<i class="fas fa-user-tag text-muted"></i>
										</span>
										{{ form_widget(registrationForm.lastName, {'attr': {'class': 'form-control'}}) }}
									</div>
									{{ form_errors(registrationForm.lastName) }}
								</div>
							</div>
						</div>

						<div class="mb-3">
							{{ form_label(registrationForm.email, null, {'label_attr': {'class': 'form-label'}}) }}
							<div class="input-group">
								<span class="input-group-text bg-light">
									<i class="fas fa-envelope text-muted"></i>
								</span>
								{{ form_widget(registrationForm.email, {'attr': {'class': 'form-control'}}) }}
							</div>
							{{ form_errors(registrationForm.email) }}
						</div>

						<div class="mb-3">
							{{ form_label(registrationForm.plainPassword.first, null, {'label_attr': {'class': 'form-label'}}) }}
							<div class="input-group">
								<span class="input-group-text bg-light">
									<i class="fas fa-lock text-muted"></i>
								</span>
								{{ form_widget(registrationForm.plainPassword.first, {'attr': {'class': 'form-control'}}) }}
							</div>
							<div class="form-text">
								<small class="text-muted">
									<i class="fas fa-info-circle"></i>
									Le mot de passe doit contenir au moins 6 caract√®res
								</small>
							</div>
							{{ form_errors(registrationForm.plainPassword.first) }}
						</div>

						<div class="mb-4">
							{{ form_label(registrationForm.plainPassword.second, null, {'label_attr': {'class': 'form-label'}}) }}
							<div class="input-group">
								<span class="input-group-text bg-light">
									<i class="fas fa-lock text-muted"></i>
								</span>
								{{ form_widget(registrationForm.plainPassword.second, {'attr': {'class': 'form-control'}}) }}
							</div>
							{{ form_errors(registrationForm.plainPassword.second) }}
						</div>

						<!-- Conditions d'utilisation -->
						<div class="form-check mb-4">
							<input class="form-check-input" type="checkbox" id="terms" required>
							<label class="form-check-label" for="terms">
								J'accepte les
								<a href="#" class="text-primary">conditions d'utilisation</a>
								et la
								<a href="#" class="text-primary">politique de confidentialit√©</a>
							</label>
						</div>

						<button type="submit" class="btn btn-primary btn-lg w-100 mb-3">
							<i class="fas fa-user-plus me-2"></i>
							Cr√©er mon compte
						</button>

						{{ form_end(registrationForm) }}

						<!-- Liens utiles -->
						<div class="text-center">
							<hr class="my-4">
							<p class="mb-0 text-muted">
								D√©j√† inscrit ?
								<a href="{{ path('app_login') }}" class="text-primary text-decoration-none fw-semibold">
									Se connecter
								</a>
							</p>
						</div>
					</div>
				</div>

				<!-- Lien retour √† l'accueil -->
				<div class="text-center mt-3">
					<a href="{{ path('app_home') }}" class="text-white text-decoration-none">
						<i class="fas fa-arrow-left me-1"></i>
						Retour √† l'accueil
					</a>
				</div>
			</div>
		</div>
	</div>

	<style>
		.min-vh-100 {
			min-height: calc(100vh - 200px);
		}

		.card {
			border-radius: 16px;
			backdrop-filter: blur(10px);
		}

		.form-control:focus {
			border-color: var(--primary-color);
			box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25);
		}

		.btn-primary {
			border-radius: 10px;
			font-weight: 600;
			padding: 12px;
		}

		.input-group-text {
			border-right: none;
		}

		.input-group .form-control {
			border-left: none;
		}

		body {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			background-attachment: fixed;
		}

		.card {
			background: rgba(255, 255, 255, 0.95);
		}

		.form-errors {
			color: var(--danger-color);
			font-size: 0.875rem;
			margin-top: 0.25rem;
		}
	</style>
{% endblock %}
